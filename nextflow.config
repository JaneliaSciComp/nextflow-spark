params {
    runtime_opts = ""
}

profiles {

    localdocker {
        docker {
            enabled = true
        }

        singularity {
            enabled = false
        }
    }

    localsingularity {
        docker {
            enabled = false
        }

        singularity {
            enabled = true
        }
    }

    lsf {
        process {
            executor = 'lsf'
            withLabel: requireGPU {
                queue = 'gpu_any'
                cpus = 2
                clusterOptions = '-gpu "num=1" ' + params.cluster_opts
            }

            clusterOptions = params.cluster_opts
        }

        docker {
            enabled = false
        }

        singularity {
            enabled = true
        }

    }
}

docker {
    temp = "auto"
    runOptions = "${params.runtime_opts}"
}

singularity {
    autoMounts = true
    cacheDir = "$HOME/.singularity_cache"
    runOptions = "${params.runtime_opts}"
}
